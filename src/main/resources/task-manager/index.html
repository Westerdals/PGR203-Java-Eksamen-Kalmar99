<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KristianiaProject</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Project view</h1>

<div>
    <a href="newMember.html">Add New Member</a>
    <br>
    <a href="removeMember.html">Remove member</a>
    <br>
    <a href="newProjectTask.html">Add new project task</a>

</div>

<h3>
    Members:
    <hr>
</h3>
<table id="projectMembers"></table>

<h3>Project Tasks With assigned members</h3>
<hr>
<table id="projects">

</table>

<h3>Add Member to Project Task</h3>
<form method="POST" action="/api/members/projectMember" >
    <label>Member <select id="memberSelect" name="memberSelect"></select> </label>
    <label>Task <select id="taskSelect" name="TaskSelect"></select> </label>
    <button>Add</button>
</form>


<h3>All Tasks</h3>
<hr>
<table id="projectsWithOutMembers">

</table>
</body>
<script>
    fetch("/api/members/add")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        text = "<tr>\n" +
                "<th>Id</th>" +
        "        <th>Name</th>\n" +
        "        <th>Email</th>\n" +
        "    </tr>  " + text;
        document.getElementById("projectMembers").innerHTML = text.toString();
    });

    fetch("/api/members/projectMember")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        text = "<tr>\n" +
                "<th>Name</th>" +
            "        <th>Status</th>\n" +
            "        <th>Members</th>\n" +
            "    </tr>  " + text;
        document.getElementById("projects").innerHTML = text.toString();
    });

    fetch("/api/members/select")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("memberSelect").innerHTML = text.toString();
    });


    fetch("/api/projects/select")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("taskSelect").innerHTML = text.toString();
    });

    fetch("/api/projects/add")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        text = "<tr>\n" +
            "<th>ID</th>" +
            "        <th>Name</th>\n" +
            "        <th>Status</th>\n" +
            "    </tr>  " + text;
        document.getElementById("projectsWithOutMembers").innerHTML = text.toString();
    });



</script>
</html>